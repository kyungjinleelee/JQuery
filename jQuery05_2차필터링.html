<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
<!-- CDN 방식으로 환경설정 -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.0/jquery.min.js"></script>

    <script>
      // DOM Tree가 모두 완료된 후 호출
      $(document).ready(function(){

        // 가. $(selector).eq(index) ==> 1차 필처링 후 idx와 일치하는 요소 2차 필터링한다. 0부터 시작
        $("li").eq(0).css("color","red"); // li, item1 빨간색

        // 나. $(selector1).filter(selector2) ==> selector1으로 1차 필터링 후 selector2로 2차 필터링한다.
        $("p").filter(".middle").css("color","red");
        
        // 다. $(selector1).not(selector2) ==> selector1으로 1차 필터링 후 selector2가 아닌것으로 2차 필터링한다.
        $("p").not(".middle").css("color","blue"); // p태그 중에서 middle 클래스가 아닌 요소 반환
        
        // 라. $(selector1).is(selector2) ==> selector1으로 1차 필터링, selector2에 해당하는 2차 필터링이 존재하면 true 반환
        var result = $("p").filter("[class]").is(".middle"); // p태그 중에서 middle 클래스가 아닌 요소 반환
        console.log(result);  // true 
        
        // 마. $(selector1).has(selector2) ==> selector1으로 1차 필터링, selector2를 포함하는 2차 필터링 요소 반환
        $("li").has("span").css("background-color","red");    // li 태그 중에 span태그 포함한 요소 반환
        
        // 바. $(selector1).first() ==> selector1으로 1차 필터링 후 첫 번째 요소 반환
        $("li").first().css("background-color","aqua");   
        
        // 사. $(selector1).slice(start [, end]) ==> selector1으로 1차 필터링 후, start ~ end 범위의 요소 반환 
        $("li").slice(0,3).css("font-size","40px");    // 0, 1, 2 (3은 포함 안됨)
        // $("li").slice(0).css("font-size","100px");    // 끝까지 적용
        
        // 아. $(selector1).map(fn) ==> selector1으로 1차 필터링 후, fn 함수를 적용해서 다시 반환
        // var result = $("li").map(function(idx, ele){
        //     console.log(idx, ele, ele.innerText);   // ele? JS 객체
        //     return ele.innerText.toUpperCase();     
        //   });
        //   console.log(result);

        //   var result = $("li").map(function(idx, ele){
        //     console.log(idx, ele, ele.innerText);   // ele? 자바스크립트 객체
        //     console.log($(ele), $(ele).text());   // $(ele)? jQuery 객체
        //     return $(ele).text().toUpperCase();     
        //   });

          // this
          var result = $(li).map(function(idx, ele){
              console.log(ele,this);  // this는 ele에 전달된 요소를 의미, js 객체
              console.log($(ele),$(this));  // this는 ele에 전달된 요소를 의미, jquery 객체
          });

          console.log(result);

      });

    
    </script>

</head>
<body>
	
	<p>text</p>
<p class="middle">Middle <span>text</span></p>
<p class="final">final text</p>

<div>
		<ul>
			<li>list item 1</li>
			<li>list item 2</li>
			<li><span>list item 3</span></li>
			<li>list item 4</li>
		</ul>
</div>
	
</body>
</html>